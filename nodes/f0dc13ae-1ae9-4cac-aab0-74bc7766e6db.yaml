id: f0dc13ae-1ae9-4cac-aab0-74bc7766e6db
template: workspace
config:
  image: ghcr.io/agynio/devcontainer:latest
  env:
    - name: DOPPLER_TOKEN
      value:
        kind: vault
        mount: secrets
        path: doppler
        key: DOPPLER_TOKEN
    - name: GITHUB_TOKEN
      value:
        kind: vault
        mount: secrets
        path: rowan
        key: GITHUB_TOKEN
    - name: GITHUB_PERSONAL_ACCESS_TOKEN
      value:
        kind: vault
        mount: secrets
        path: rowan
        key: GITHUB_TOKEN
  platform: linux/arm64
  enableDinD: false
  ttlSeconds: 86400
  volumes:
    enabled: true
    mountPath: /workspace
  nix:
    packages:
      - kind: flakeRepo
        repository: github:agynio/github-cli
        commitHash: 3d0de423e06b5eae9bc5d568e902d1f78653c092
        attributePath: default
        ref: feature/nix-flake
      - kind: nixpkgs
        name: git
        version: 2.51.0
        commitHash: f6b44b2401525650256b977063dbcf830f762369
        attributePath: git
      - kind: nixpkgs
        name: ripgrep
        version: 15.1.0
        commitHash: d5faa84122bc0a1fd5d378492efce4e289f8eac1
        attributePath: ripgrep
      - kind: nixpkgs
        name: nodejs
        version: 24.11.0
        commitHash: 91c9a64ce2a84e648d0cf9671274bb9c2fb9ba60
        attributePath: nodejs_24
  memory_limit: 2Gi
  initialScript: nix profile add nixpkgs#gh && gh extension install Agyn-sandbox/gh-pr-review
position:
  x: -344.43788385625396
  y: 232.48023905266783
